How player content works in The Sapling
=======================================

The Sapling was built from the ground up with community interaction in mind. This interaction goes both ways: players can take stuff generated by or for the game, and use it in their own creations, or they can add their own creations to the game. A quick overview of how this all works can be seen in this video:

![youtube](code)

This article functions as the more in-depth counterpart of the video, to be used as reference. It's a living document that will be updated continuously.

1 Repurpose material from the game for your own creations
---------------------------------------------------------

### 1.1 Music

Downloads:
* [[Smaller musical pieces used by the procedural music engine]].
* [[Separate layers used in the main theme]].
* [[Sheet music for the main theme]].

The music in the Sapling is generated on the fly by combining smaller parts. If you are a musician, you are encouraged to reuse them; for example in remixes and mashups. The sheet music could be the basis for covers. I'd love to see your project; let me know at thesaplinggame@gmail.com .

### 1.2 Exporting animals and procedural animations

Pressing the `e` button in the plant or animal editor will create a `.obj` file in the game's folders. This file contains the 3D model of your animal, and can be imported by most (all?) 3D modeling software. In game, these models are softened with one layer of [Catmull-Clark subdivision](https://en.wikipedia.org/wiki/Catmull%E2%80%93Clark_subdivision_surface) .

In the animal editor, a number of `.json` files are also created besides the `.obj` file:
* `ExportedBones.json`, containing information on the armature the game has generated.
* `ExportedBoneWeights.json`, containing information on how this armature interacts with the 3D model.
* `ExportedAnimation_<ANIMATION_NAME>.json`, for each of the animations the game uses, containing information on how each bone moves at each point in time.

The JSON format can easily be interpreted by any programming language, so it should be easy to write a script to import it to your 3D animation software of choice. I use animation software Blender with Python as a scripting language; a setup for importing animals and their animations can be found in `ImportJSON.blend`.

2 Extending the game
--------------------

All scenarios and bodyparts are dynamically read from the `Assets/Resources` folder when the games starts; adding scenarios and bodyparts simply means adding more of the required files, and the game will handle the rest.

### 2.1 Adding your own scenarios

To get your scenario working, you need to add the following files to the `Scenarios` folder.

* An FBX file with the 3D model of the terrain, as well as various other positions like where the camera positions and the clouds are. The names of the various object are important:
**
* A JSON file where you specify various things, like the level descpription, the objective, the various soil layers, what milestones are available. You should follow the exact format of the existing JSON files, or the game will crash.
* A 80x80px PNG icon to be used in the main menu.
* If you specified camera presets in your FBX file, they need to have accompanying buttons to be used in the interface. Each icon has a separate image for (1) a normal state, (2) a hovered state and (3) a selected state. If you follow the naming convention rigorously, the game will figure out where to put everything automatically: `2_preset_1_hovered.png` means level 2, camera preset 1, hovered state.

### 2.2 Adding your own bodyparts