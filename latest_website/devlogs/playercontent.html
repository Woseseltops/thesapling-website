<html>
<head>
	<meta name="viewport" content="width=device-width">
	
	<link href='http://fonts.googleapis.com/css?family=Muli:100,200,300,400,500' rel='stylesheet'>
	<link href='http://fonts.googleapis.com/css?family=Montserrat:100,200,300,400,500' rel='stylesheet'>
	<link rel="stylesheet" type="text/css" href="/static/style.css">
	<title>The Sapling - a game about life and evolution</title>

	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
 	<script type="text/javascript">

 	$(document).ready(function()
 	{
	    $('.iconlabel').mouseenter(function()
	    {
	    	$(this).find('path').addClass('selected_icon');
	    });

	    $('.iconlabel').mouseleave(function()
	    {
	    	$(this).find('path').removeClass('selected_icon');
	    });

	    $('.checkbox').click(function()
	    {
	    	var checkbox_inside = $('#checkbox_inside');

	    	if (checkbox_inside.hasClass('selected_checkbox'))
	    	{
	    		checkbox_inside.removeClass('selected_checkbox');
	    		$('#newcontent').val('');
	    	}
	    	else
	    	{
	    		checkbox_inside.addClass('selected_checkbox');
	    		$('#newcontent').val('yes');
	    	}
	    });
	});
 	</script>

</head>
<body>
	<div id="title_area">
		<video autoplay muted loop id="myVideo">
	  		<source src="static/mp4/parallax_wide.mp4" type="video/mp4">
			</video>

		<div id="title_wrapper">
			<h2 class="devlog_label">DEVLOG</h2>
<h1 class="devlog_title">HOW PLAYER CONTENT WORKS IN THE SAPLING</h1>
<img id="portrait" src="/static/png/wessel.png">
<p id="portrait_label">Wessel Stoop</p>
		</div>
	</div>
	<div id="main_column"  class="devlog">
		<div id="main_area">
			
<div id="label_bar"><div class="nonselected_tag">Announcement</div><div class="nonselected_tag">Behind the scenes</div><div class="selected_tag">Technical details</div></div>
<p id="first_p">The Sapling was built from the ground up with community interaction in mind. This interaction goes both ways: players can take stuff generated by or for the game, and use it in their own creations, or they can add their own creations to the game. </p>
<p class="non_first_p"><span id="first_character">T</span>o get a first idea of what is possible and what is not, you might want to have a look at this video, which gives a quick overview of the video below. This article functions as a more in-depth addition to the video, to be used as reference. It's a living document that will be updated continuously.</p>
<iframe width="560" height="315" src="https://www.youtube.com/embed/I35AcldO-n8" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe>
<h2>1 Repurpose material from the game for your own creations</h2>
<h3>1.1 Music</h3>
<p class="non_first_p">Downloads:</p>
<ul>
<li>
<p class="non_first_p"><a href="/static/procedural_music_pieces.zip">Smaller musical pieces used by the procedural music engine</a>.</p>
</li>
<li>
<p class="non_first_p"><a href="/static/separate_layers_main_theme.zip">Separate layers used in the main theme</a>.</p>
</li>
<li>
<p class="non_first_p"><a href="/static/main_theme_sheet_music.pdf">Sheet music for the main theme</a>.</p>
</li>
</ul>
<p class="non_first_p">The music in the Sapling is generated on the fly by combining smaller parts. If you are a musician, you are encouraged to reuse them; for example in remixes and mashups. The sheet music could be the basis for covers. I'd love to see your project; let me know at thesaplinggame@gmail.com .</p>
<h3>1.2 Exporting animals and animations generated by the game</h3>
<p class="non_first_p">Pressing the <code>e</code> button in the plant or animal editor will create a <code>.obj</code> file in the game's folders. This file contains the 3D model of your animal, and can be imported by most (all?) 3D modeling software. In game, these models are softened with one layer of <a href="https://en.wikipedia.org/wiki/Catmull%E2%80%93Clark_subdivision_surface">Catmull-Clark subdivision</a>, so you might also want to do that in your modeling software.</p>
<p class="non_first_p">In the animal editor, a number of <code>.json</code> files are also created besides the <code>.obj</code> file:</p>
<ul>
<li>
<p class="non_first_p"><code>ExportedBones.json</code>, containing information on the armature the game has generated.</p>
</li>
<li>
<p class="non_first_p"><code>ExportedBoneWeights.json</code>, containing information on how this armature interacts with the 3D model.</p>
</li>
<li>
<p class="non_first_p"><code>ExportedAnimation_&lt;ANIMATION_NAME&gt;.json</code>, for each of the animations the game uses, containing information on how each bone moves at each point in time during this animation.</p>
</li>
</ul>
<p class="non_first_p">The JSON format can easily be interpreted by any programming language, so it should be easy to write a script to import it to your 3D animation software of choice. I use animation software Blender with Python as a scripting language; a setup for importing animals and their animations can be found in <code>ImportJSON.blend</code>.</p>
<h2>2 Extending the game</h2>
<p class="non_first_p">All scenarios and bodyparts are dynamically read from the <code>Assets/Resources</code> folder when the games starts; adding scenarios and bodyparts simply means adding more of the required files, and the game will handle the rest.</p>
<h3>2.1 Adding your own scenarios</h3>
<p class="non_first_p">To get your scenario working, you need to add the following files to the <code>Assets/Resources/Scenarios</code> folder:</p>
<ul>
<li>
<p class="non_first_p">An FBX file with the 3D model of the terrain, as well as various other positions like where the camera positions and the clouds are. Most (all?) 3D modeling software will be able to export to FBX. The names of the various objects in the scene are important:</p>
<ul>
<li>
<p class="non_first_p">All objects with the name 'Sea' or 'River' are given the water material.</p>
</li>
<li>
<p class="non_first_p">All objects with names starting with 'SurfaceRock' or 'SideRock' are given the grey stone material.</p>
</li>
<li>
<p class="non_first_p">All objects with names starting with 'Mainland' are given the brown stone material.</p>
</li>
<li>
<p class="non_first_p">The position and size of objects (probably best: flat planes) with names starting with 'GrowArea' are used as indicators where plants can grow and animals can walk.</p>
</li>
<li>
<p class="non_first_p">The positions of the objects with names 'CameraMainPosition', 'CameraOverivewPosition', or names starting with 'CameraPreset' are used for these respective camera positions.</p>
</li>
<li>
<p class="non_first_p">The height of the object with the name 'CloudsPosition' determines where clouds will spawn.</p>
</li>
<li>
<p class="non_first_p">All objects that start with 'Event<INTEGER>' will only become visible as soon as the corresponding event (defined in the json file, see next bullet) occurs.</p>
</li>
</ul>
</li>
<li>
<p class="non_first_p">A JSON file where you specify various things, like the level descpription, the objective, the various soil layers and what milestones are available. You should follow the exact format of the existing JSON files, or the game will crash.</p>
</li>
<li>
<p class="non_first_p">A 80x80px PNG icon to be used in the main menu.</p>
</li>
<li>
<p class="non_first_p">If you specified camera presets in your FBX file, they need to have accompanying buttons to be used in the interface. Each icon has a separate image for (1) a normal state, (2) a hovered state and (3) a selected state. If you follow the naming convention rigorously, the game will figure out where to put everything automatically: <code>2_preset_1_hovered.png</code> means level 2, camera preset 1, hovered state. You can specify the location of the buttons on screen in the json file.</p>
</li>
</ul>
<p class="non_first_p">In the game's files, the various scenarios are identified with a number: the first four main scenarios are called 0, 1, 2 and 3. This numbering is also used to order the scenarios. To prevent clashes with future main scenarios or other custom scenarios, it's probably best to give your scenario a 10-digit identifier.</p>
<h3>2.2 Adding your own bodyparts</h3>
<p class="non_first_p">To get your bodypart working, you need to add the following files to the correct subfolder of the <code>Assets/Resources/Bodyparts</code> folder:</p>
<ul>
<li>
<p class="non_first_p">A JSON file where you specify various things, like its statistics in the simulation, its place in the evolution tree, and the index of the face of the model that will be attached to the main mesh. I personally don't know of a smart way to figure out this index; I do it by trial and error.</p>
</li>
<li>
<p class="non_first_p">A .obj file, containing the mesh of the bodypart. Most (all?) 3D modeling software will be able to export to .obj . Keep in mind that the game will dynamically apply an extra iteration of Catmull-Clark subdivision, so your meshes should be simple.</p>
</li>
<li>
<p class="non_first_p">If your bodypart is a limb, a .armature file containing information on the locations of the bones and the weights of the vertices that move with this bone.</p>
</li>
</ul>
<p class="non_first_p">The subfolder you choose defines as what kind of bodypart (is this a leaf or an eyeball?) your creation will be interpreted.</p>
<p id="date">Published Saturday 15 September 2018</p><div class="iconlabel"><a href="test1.html"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg class="icon"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="5.1382222mm"
   height="6.4575267mm"
   viewBox="0 0 18.206299 22.881"
   id="svg2"
   version="1.1"
   inkscape:version="0.91 r13725"
   sodipodi:docname="arrow_left.svg">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="1.4"
     inkscape:cx="46.318205"
     inkscape:cy="57.219619"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     inkscape:window-width="1920"
     inkscape:window-height="1018"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Laag 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-368.03971,-523.77885)">
    <path
       style="display:inline;fill:#dedede;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 368.03971,534.93755 18.2063,-11.1587 -0.7063,22.881 z"
       id="path8692"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccc" />
  </g>
</svg>
<br>Older</a></div><div class="iconlabel"><a href="/devlogs"><?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!-- Created with Inkscape (http://www.inkscape.org/) -->

<svg class="icon"
   xmlns:dc="http://purl.org/dc/elements/1.1/"
   xmlns:cc="http://creativecommons.org/ns#"
   xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
   xmlns:svg="http://www.w3.org/2000/svg"
   xmlns="http://www.w3.org/2000/svg"
   xmlns:sodipodi="http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd"
   xmlns:inkscape="http://www.inkscape.org/namespaces/inkscape"
   width="6.4575267mm"
   height="5.1382222mm"
   viewBox="0 0 22.881 18.206299"
   id="svg2"
   version="1.1"
   inkscape:version="0.91 r13725"
   sodipodi:docname="arrow_up.svg">
  <defs
     id="defs4" />
  <sodipodi:namedview
     id="base"
     pagecolor="#ffffff"
     bordercolor="#666666"
     borderopacity="1.0"
     inkscape:pageopacity="0.0"
     inkscape:pageshadow="2"
     inkscape:zoom="5.6"
     inkscape:cx="-15.373915"
     inkscape:cy="35.636901"
     inkscape:document-units="px"
     inkscape:current-layer="layer1"
     showgrid="false"
     fit-margin-top="0"
     fit-margin-left="0"
     fit-margin-right="0"
     fit-margin-bottom="0"
     inkscape:window-width="1920"
     inkscape:window-height="1018"
     inkscape:window-x="-8"
     inkscape:window-y="-8"
     inkscape:window-maximized="1" />
  <metadata
     id="metadata7">
    <rdf:RDF>
      <cc:Work
         rdf:about="">
        <dc:format>image/svg+xml</dc:format>
        <dc:type
           rdf:resource="http://purl.org/dc/dcmitype/StillImage" />
        <dc:title></dc:title>
      </cc:Work>
    </rdf:RDF>
  </metadata>
  <g
     inkscape:label="Laag 1"
     inkscape:groupmode="layer"
     id="layer1"
     transform="translate(-365.70236,-526.1162)">
    <path
       style="display:inline;fill:#dedede;fill-opacity:1;fill-rule:evenodd;stroke:none;stroke-width:1px;stroke-linecap:butt;stroke-linejoin:miter;stroke-opacity:1"
       d="m 376.86106,526.1162 -11.1587,18.2063 22.881,-0.7063 z"
       id="path8692"
       inkscape:connector-curvature="0"
       sodipodi:nodetypes="cccc" />
  </g>
</svg>
<br>Overview</a></div>
		</div>
		<div id="footer_area">
			<div id="footer_screenshot_container"><img id="footer_screenshot" src="/static/png/parallax.png"></div>
			<h4>Get the devlog in your email!</h4>
			<div id="once_per_month">Roughly once per month</div>
			<form action="https://thesaplinggame.us18.list-manage.com/subscribe/post?u=bca4144605fedfb39489b6173&amp;id=cee6f2fdcf" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>

				<input class="textfield" name="FNAME" id="first_name" placeholder="First name"><input class="textfield" name="LNAME" id="last_name" placeholder="Last name"><br>
				<input class="textfield" name="EMAIL" id="email" placeholder="Email"><br>
				<input type="hidden" name="NEWCONTENT" id="newcontent" value=""><br>
				<div class="checkbox_area">
					<div class="checkbox"><div id="checkbox_inside"></div></div><div id="checkboxlabel">Only the ones that announce new content</div>
				</div>
				<button>Subscribe</button>
			</form>

			<br><img src="/static/svg/shadow_logo.svg" class="separator_logo">
			<div class="footer_link"><a href="press/sheet.php?p=The%20Sapling">Presskit</a></div>
			<div class="footer_link"><a href="http://wesselstoop.ruhosting.nl">Developer website</a></div>
			<div class="footer_link"><a>Questions<br/>thesapling@gmail.com</a></div>

			<img src="/static/svg/shadow_logo.svg" class="separator_logo">
			<div class="credits">A game by Wessel Stoop</div>
		</div>
	</div>
</body>
</html>